<!DOCTYPE html><html lang="en"><head><meta name="description" content="This is a repository that helps students, from any area, learn and practice with CS-related tools. For example, Vim, Gdb and Git. Our goal is to help students being more proficient and efficient using these tools."/><meta property="og:image" content="/cs-essentials/images/cs-essentials-thumb.png"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content=""/><meta property="og:image" content="https://og-image.now.sh/CS%20Essentials%20by%20IEEE-IST%20CS.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.zeit.co%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="CS Essentials by IEEE-IST CS"/><meta name="twitter:card" content="summary_large_image"/><title>Vim - Reg and Macros</title><meta name="next-head-count" content="8"/><link rel="preload" href="/cs-essentials/_next/static/css/f768d3365e0cc45c9163.css" as="style"/><link rel="stylesheet" href="/cs-essentials/_next/static/css/f768d3365e0cc45c9163.css"/><link rel="preload" href="/cs-essentials/_next/static/css/20df3656b1b08bd2232e.css" as="style"/><link rel="stylesheet" href="/cs-essentials/_next/static/css/20df3656b1b08bd2232e.css"/><link rel="preload" href="/cs-essentials/_next/static/wQ3Wyq8p3MxYgxQ-PDZgG/pages/_app.js" as="script"/><link rel="preload" href="/cs-essentials/_next/static/wQ3Wyq8p3MxYgxQ-PDZgG/pages/content/%5Btopic%5D/%5Bpage%5D.js" as="script"/><link rel="preload" href="/cs-essentials/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/cs-essentials/_next/static/chunks/framework.e84fa698c7ee940652bd.js" as="script"/><link rel="preload" href="/cs-essentials/_next/static/chunks/commons.3297d2a2d38dac4ad796.js" as="script"/><link rel="preload" href="/cs-essentials/_next/static/runtime/main-d8f6cc11b1d0cf8a72db.js" as="script"/><link rel="preload" href="/cs-essentials/_next/static/chunks/21dddfa8a67ea3f6fa1e2209bc2cf7f8352768be.d620e2e64ff0ba2721a5.js" as="script"/></head><body><div id="__next"><div class="layout_container__2t4v2"><header class="layout_header__2rhWq"><div class="layout_headerLeft__3fXgx"><a class="layout_headerLogoLink__urb23" href="/cs-essentials/"><img class="layout_headerLogo__1xykU" src="/cs-essentials/images/logo-cs.png" alt="logo"/></a></div><div class="layout_headerSearch__2YZ7L"><input placeholder="Search"/><a class="layout_headerSearchBtn__2eN1c" href="/cs-essentials/search?query="><img src="/cs-essentials/icons/search.svg"/></a></div><div class="layout_headerRight__1L-eG"><span class="layout_headerIcon__E1PDy layout_headerSearchIcon__sWHGS"><img src="/cs-essentials/icons/search.svg" alt="search-icon"/></span><a class="layout_headerIcon__E1PDy" href="/cs-essentials/about"><img src="/cs-essentials/icons/information.svg" alt="info-icon"/></a></div></header><div class="layout_mainContent__2pAB6"><div class="layout_backToHome__1vZsp"><a href="/cs-essentials/"><img src="/cs-essentials/icons/chevron--left.svg" alt="back-icon"/><span>Back to Home</span></a></div><main><div class="layout_contentContainer__3dLAS"><div class="content_pageContentContainer__3dgQS"><div class=" layout_contentSidebar__2y3p8"><ul class="layout_sidebarList__jgfwt"><li class="layout_sidebarItem__oQ0rm "><a href="/cs-essentials/content/vim/Introduction">Introduction</a></li><li class="layout_sidebarItem__oQ0rm "><a href="/cs-essentials/content/vim/Basics">Basics</a></li><li class="layout_sidebarItem__oQ0rm "><a href="/cs-essentials/content/vim/Movement">Movement</a></li><li class="layout_sidebarItem__oQ0rm "><a href="/cs-essentials/content/vim/Interface">Interface</a></li><li class="layout_sidebarItem__oQ0rm layout_active__2jiY4"><a href="/cs-essentials/content/vim/Reg%2520and%2520Macros">Reg and Macros</a></li><li class="layout_sidebarItem__oQ0rm "><a href="/cs-essentials/content/vim/Customization">Customization</a></li><li class="layout_sidebarItem__oQ0rm "><a href="/cs-essentials/content/vim/CheatSheet">CheatSheet</a></li><li class="layout_sidebarItem__oQ0rm "><a href="/cs-essentials/content/vim/Further%2520Reading">Further Reading</a></li></ul></div><div class=" cards_contentCard__BH2ES"><article class="cards_contentArticle__1g4ga"><div><h1>Vim - Registers and Macros</h1>
<h2>Registers</h2>
<h3>What is a register?</h3>
<p>Vim's registers are spaces in memory that vim uses to store some text.
Each one of these registers has an identifier, so they can be accessed later.</p>
<p>It like when you copy some text to your clipboard, except in this case you have more than one clipboard.</p>
<h3>Basic uses of registers</h3>
<p>Every register is accessed using a double quote before its name, we can access the content in register <strong>a</strong> using <strong>"a</strong>.</p>
<p>You could add the selected text to the register <strong>a</strong> by doing <strong>"ay</strong>.
By doing y you are yanking the selected text, and then adding it to the register <strong>"a</strong>.
To paste the content of this register, the logic is the same: <strong>"ap</strong>. You are pasting the data that is in this register.</p>
<p>You can use the <strong>:reg</strong> command to see all the registers and their content, or filter just the ones that you are interested with <strong>:reg a b c</strong>.</p>
<h3>The Default Register</h3>
<p>When you <strong>delete</strong>, <strong>change</strong> or <strong>yank</strong> text, the text under the operation is store in a <strong>register</strong>
By default, the text is stored in a default register, when you <strong>paste</strong>, the text is pasted from the <strong>default register</strong>.</p>
<h3>Numbered Registers</h3>
<p>When we yank some text, then delete some other, and try to paste the yanked text, it doesn't work, because vim replaced it with the text you deleted, so you need to go and yank the text again? </p>
<p>Vim will always replace the default register, but <strong>no</strong> we did not lose the yanked text!!</p>
<p>Vim populates what is called numbered registers, there are register <strong>"0</strong> to <strong>"9</strong>. <strong>"0</strong> will have the lasted yanked, changed, deleted text, <strong>"1</strong> the second latest, and <strong>"9</strong> the oldest.</p>
<p>So if you deleted, yanked some text you can always paste using <strong>"4g</strong>.</p>
<h3>Read-Only Registers</h3>
<p>There are 4 read-only registers <strong>". "% ": "#</strong></p>
<table>
<thead>
<tr>
<th>Read-Only Reg</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>".</td>
<td>last inserted text</td>
</tr>
<tr>
<td>"%</td>
<td>current file path, starting from the directory where vim was first opened</td>
</tr>
<tr>
<td>":</td>
<td>most recently executed command</td>
</tr>
<tr>
<td>"#</td>
<td>name of the last edited file</td>
</tr>
</tbody>
</table>
<h2>Macros</h2>
<p>Some of these sub-topics are is so well documented in <a href="https://vim.fandom.com/wiki/Macros">Vim Tips Wiki</a>, that we will just gather, organize and comment on the information that the wiki published.</p>
<h3>What is a macro in vim?</h3>
<p>Recording a macro is a great way to perform a one-time task, or to get things done quickly when you don't want to mess with Vim script or mappings, or if you do not yet know how to do it more elegantly.</p>
<p>In Vim, the word "macro" may refer to:</p>
<ul>
<li>A sequence of commands recorded to a register.</li>
<li>A mapping to expand a sequence of typed keys to a longer sequence.</li>
<li>A script is written in the Vim script language.</li>
</ul>
<h3>How to record a macro?</h3>
<p>Each register is identified by a letter a to z.</p>
<p>To enter a macro, type:</p>
<pre><code class="hljs language-vim">q<span class="hljs-symbol">&#x3C;letter></span><span class="hljs-symbol">&#x3C;commands></span>q</code></pre>
<p>To execute the macro <number> times (once by default), type:</p>
<pre><code class="hljs language-vim"><span class="hljs-symbol">&#x3C;number></span>@<span class="hljs-symbol">&#x3C;letter></span></code></pre>
<p>So, the complete process looks like:</p>
<table>
<thead>
<tr>
<th>Macro Table</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>qd</td>
<td>start recording to register d</td>
</tr>
<tr>
<td>...</td>
<td>your complex series of commands</td>
</tr>
<tr>
<td>q</td>
<td>stop recording</td>
</tr>
<tr>
<td>@d</td>
<td>execute your macro</td>
</tr>
<tr>
<td>@@</td>
<td>execute your macro again</td>
</tr>
</tbody>
</table>
<h3>Usefull example with macros</h3>
<ul>
<li>Given some data like the following:</li>
</ul>
<pre><code class="hljs language-xml">one first example
two second example
three   third example
four    fourth example</code></pre>
<ul>
<li>suppose you want to change the data to make a dictionary for a Python program, with this result:</li>
</ul>
<pre><code class="hljs language-python">data = {
    <span class="hljs-string">'one'</span>: <span class="hljs-string">'first example'</span>,
    <span class="hljs-string">'two'</span>: <span class="hljs-string">'second example'</span>,
    <span class="hljs-string">'three'</span>: <span class="hljs-string">'third example'</span>,
    <span class="hljs-string">'four'</span>: <span class="hljs-string">'fourth example'</span>,
}</code></pre>
<p>To do this, record a macro while changing the first line. Then, playback the macro to change each other line. When finished, manually insert the initial <strong>data = {</strong> line, and the final <strong>}</strong> line.</p>
<p>The following shows one way to record a suitable macro.</p>
<ol>
<li>Put the cursor on the first line.</li>
<li>Type qd (the q starts recording; the d is the register where keys will be recorded).</li>
<li>Type the following command to change the first sequence of whitespace to <strong>': '</strong>:<ul>
<li>:s/\s+/': ' (then press Enter)</li>
</ul></li>
<li>Type the following to insert four spaces followed by <strong>'</strong> at the start of the line:<ul>
<li>I    ' (then press Escape)</li>
</ul></li>
<li>Type the following to append <strong>',</strong> to the line:<ul>
<li>A', (then press Escape)</li>
</ul></li>
<li>Type the following to move the cursor to the start of the line, then down to the next line:<ul>
<li>0j (or press Enter)</li>
</ul></li>
<li>Type q to stop recording the macro.</li>
</ol>
<p>The cursor should now be on the second line. Type @d to playback the macro once. That should change the second line, with the cursor finishing on the third line.
Remember counts? Type 2@@ to finish. The 2 means that what follows is performed twice, and the @@ plays back the last used macro.</p>
<h3>Viewing a macro</h3>
<p>You can use the <strong>:reg</strong> command to view the current contents of any or all register values in Vim. </p>
<p>For example, use :reg to view all registers, or <strong>:reg a</strong> to view only what you have recorded into register <strong>a</strong>. Typing <strong>:reg abx</strong> will show the contents of registers <strong>a</strong>, <strong>b</strong>, and <strong>x</strong>.</p>
<h3>Saving a macro</h3>
<p>After recording the macro. This just goes into one of the registers so you can paste it as normal with the "xp commands in normal mode.</p>
<p>To save it you open up .vimrc and paste the contents, then the register will be around the next time you start vim.
The format of the vimrc line should be:</p>
<pre><code class="hljs language-vim"><span class="hljs-keyword">let</span> @q = <span class="hljs-string">'macro contents'</span></code></pre>
<p>Be careful of quotes!!!!</p>
<p>Here's a small guide to saving a macro permanently:</p>
<ol>
<li>From normal mode: qq</li>
<li>enter whatever commands</li>
<li>From normal mode: q</li>
<li>open .vimrc</li>
<li><strong>"qp</strong> to insert the macro into your <strong>let @q = '...'</strong></li>
</ol>
<h3>Editing a macro</h3>
<p>Imagine that you just wrote a vim macro and stopped recording.
Then you realize that you forgot to add a ^ to the beginning of it, instead of recording the re-record the macro there are simple ways to edit an existing macro.</p>
<ol>
<li>Type <strong>"ap</strong> to paste the contents of the register.</li>
<li>Enter insert mode and edit the text as required.</li>
<li>Press Esc to return to normal mode.</li>
<li>Type <strong>"ayy</strong> to yank the modified macro into the register.</li>
</ol>
</div></article></div><div class="content_dummySidebar__LMYsL"></div></div></div></main></div><footer class="layout_footer__127N0"><span class="layout_footerTitle__36Eb7">CS Essentials by IEEE-IST CS</span></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"contentData":{"topic":"vim","page":"4-Reg and Macros.md","contentHtml":"\u003ch1\u003eVim - Registers and Macros\u003c/h1\u003e\n\u003ch2\u003eRegisters\u003c/h2\u003e\n\u003ch3\u003eWhat is a register?\u003c/h3\u003e\n\u003cp\u003eVim's registers are spaces in memory that vim uses to store some text.\nEach one of these registers has an identifier, so they can be accessed later.\u003c/p\u003e\n\u003cp\u003eIt like when you copy some text to your clipboard, except in this case you have more than one clipboard.\u003c/p\u003e\n\u003ch3\u003eBasic uses of registers\u003c/h3\u003e\n\u003cp\u003eEvery register is accessed using a double quote before its name, we can access the content in register \u003cstrong\u003ea\u003c/strong\u003e using \u003cstrong\u003e\"a\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003eYou could add the selected text to the register \u003cstrong\u003ea\u003c/strong\u003e by doing \u003cstrong\u003e\"ay\u003c/strong\u003e.\nBy doing y you are yanking the selected text, and then adding it to the register \u003cstrong\u003e\"a\u003c/strong\u003e.\nTo paste the content of this register, the logic is the same: \u003cstrong\u003e\"ap\u003c/strong\u003e. You are pasting the data that is in this register.\u003c/p\u003e\n\u003cp\u003eYou can use the \u003cstrong\u003e:reg\u003c/strong\u003e command to see all the registers and their content, or filter just the ones that you are interested with \u003cstrong\u003e:reg a b c\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3\u003eThe Default Register\u003c/h3\u003e\n\u003cp\u003eWhen you \u003cstrong\u003edelete\u003c/strong\u003e, \u003cstrong\u003echange\u003c/strong\u003e or \u003cstrong\u003eyank\u003c/strong\u003e text, the text under the operation is store in a \u003cstrong\u003eregister\u003c/strong\u003e\nBy default, the text is stored in a default register, when you \u003cstrong\u003epaste\u003c/strong\u003e, the text is pasted from the \u003cstrong\u003edefault register\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3\u003eNumbered Registers\u003c/h3\u003e\n\u003cp\u003eWhen we yank some text, then delete some other, and try to paste the yanked text, it doesn't work, because vim replaced it with the text you deleted, so you need to go and yank the text again? \u003c/p\u003e\n\u003cp\u003eVim will always replace the default register, but \u003cstrong\u003eno\u003c/strong\u003e we did not lose the yanked text!!\u003c/p\u003e\n\u003cp\u003eVim populates what is called numbered registers, there are register \u003cstrong\u003e\"0\u003c/strong\u003e to \u003cstrong\u003e\"9\u003c/strong\u003e. \u003cstrong\u003e\"0\u003c/strong\u003e will have the lasted yanked, changed, deleted text, \u003cstrong\u003e\"1\u003c/strong\u003e the second latest, and \u003cstrong\u003e\"9\u003c/strong\u003e the oldest.\u003c/p\u003e\n\u003cp\u003eSo if you deleted, yanked some text you can always paste using \u003cstrong\u003e\"4g\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3\u003eRead-Only Registers\u003c/h3\u003e\n\u003cp\u003eThere are 4 read-only registers \u003cstrong\u003e\". \"% \": \"#\u003c/strong\u003e\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eRead-Only Reg\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\".\u003c/td\u003e\n\u003ctd\u003elast inserted text\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\"%\u003c/td\u003e\n\u003ctd\u003ecurrent file path, starting from the directory where vim was first opened\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\":\u003c/td\u003e\n\u003ctd\u003emost recently executed command\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\"#\u003c/td\u003e\n\u003ctd\u003ename of the last edited file\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2\u003eMacros\u003c/h2\u003e\n\u003cp\u003eSome of these sub-topics are is so well documented in \u003ca href=\"https://vim.fandom.com/wiki/Macros\"\u003eVim Tips Wiki\u003c/a\u003e, that we will just gather, organize and comment on the information that the wiki published.\u003c/p\u003e\n\u003ch3\u003eWhat is a macro in vim?\u003c/h3\u003e\n\u003cp\u003eRecording a macro is a great way to perform a one-time task, or to get things done quickly when you don't want to mess with Vim script or mappings, or if you do not yet know how to do it more elegantly.\u003c/p\u003e\n\u003cp\u003eIn Vim, the word \"macro\" may refer to:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eA sequence of commands recorded to a register.\u003c/li\u003e\n\u003cli\u003eA mapping to expand a sequence of typed keys to a longer sequence.\u003c/li\u003e\n\u003cli\u003eA script is written in the Vim script language.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eHow to record a macro?\u003c/h3\u003e\n\u003cp\u003eEach register is identified by a letter a to z.\u003c/p\u003e\n\u003cp\u003eTo enter a macro, type:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-vim\"\u003eq\u003cspan class=\"hljs-symbol\"\u003e\u0026#x3C;letter\u003e\u003c/span\u003e\u003cspan class=\"hljs-symbol\"\u003e\u0026#x3C;commands\u003e\u003c/span\u003eq\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo execute the macro \u003cnumber\u003e times (once by default), type:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-vim\"\u003e\u003cspan class=\"hljs-symbol\"\u003e\u0026#x3C;number\u003e\u003c/span\u003e@\u003cspan class=\"hljs-symbol\"\u003e\u0026#x3C;letter\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSo, the complete process looks like:\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eMacro Table\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eqd\u003c/td\u003e\n\u003ctd\u003estart recording to register d\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e...\u003c/td\u003e\n\u003ctd\u003eyour complex series of commands\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eq\u003c/td\u003e\n\u003ctd\u003estop recording\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e@d\u003c/td\u003e\n\u003ctd\u003eexecute your macro\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e@@\u003c/td\u003e\n\u003ctd\u003eexecute your macro again\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eUsefull example with macros\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eGiven some data like the following:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-xml\"\u003eone first example\ntwo second example\nthree   third example\nfour    fourth example\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003esuppose you want to change the data to make a dictionary for a Python program, with this result:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003edata = {\n    \u003cspan class=\"hljs-string\"\u003e'one'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'first example'\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e'two'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'second example'\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e'three'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'third example'\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e'four'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'fourth example'\u003c/span\u003e,\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo do this, record a macro while changing the first line. Then, playback the macro to change each other line. When finished, manually insert the initial \u003cstrong\u003edata = {\u003c/strong\u003e line, and the final \u003cstrong\u003e}\u003c/strong\u003e line.\u003c/p\u003e\n\u003cp\u003eThe following shows one way to record a suitable macro.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003ePut the cursor on the first line.\u003c/li\u003e\n\u003cli\u003eType qd (the q starts recording; the d is the register where keys will be recorded).\u003c/li\u003e\n\u003cli\u003eType the following command to change the first sequence of whitespace to \u003cstrong\u003e': '\u003c/strong\u003e:\u003cul\u003e\n\u003cli\u003e:s/\\s+/': ' (then press Enter)\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli\u003eType the following to insert four spaces followed by \u003cstrong\u003e'\u003c/strong\u003e at the start of the line:\u003cul\u003e\n\u003cli\u003eI    ' (then press Escape)\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli\u003eType the following to append \u003cstrong\u003e',\u003c/strong\u003e to the line:\u003cul\u003e\n\u003cli\u003eA', (then press Escape)\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli\u003eType the following to move the cursor to the start of the line, then down to the next line:\u003cul\u003e\n\u003cli\u003e0j (or press Enter)\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli\u003eType q to stop recording the macro.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe cursor should now be on the second line. Type @d to playback the macro once. That should change the second line, with the cursor finishing on the third line.\nRemember counts? Type 2@@ to finish. The 2 means that what follows is performed twice, and the @@ plays back the last used macro.\u003c/p\u003e\n\u003ch3\u003eViewing a macro\u003c/h3\u003e\n\u003cp\u003eYou can use the \u003cstrong\u003e:reg\u003c/strong\u003e command to view the current contents of any or all register values in Vim. \u003c/p\u003e\n\u003cp\u003eFor example, use :reg to view all registers, or \u003cstrong\u003e:reg a\u003c/strong\u003e to view only what you have recorded into register \u003cstrong\u003ea\u003c/strong\u003e. Typing \u003cstrong\u003e:reg abx\u003c/strong\u003e will show the contents of registers \u003cstrong\u003ea\u003c/strong\u003e, \u003cstrong\u003eb\u003c/strong\u003e, and \u003cstrong\u003ex\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3\u003eSaving a macro\u003c/h3\u003e\n\u003cp\u003eAfter recording the macro. This just goes into one of the registers so you can paste it as normal with the \"xp commands in normal mode.\u003c/p\u003e\n\u003cp\u003eTo save it you open up .vimrc and paste the contents, then the register will be around the next time you start vim.\nThe format of the vimrc line should be:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-vim\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e @q = \u003cspan class=\"hljs-string\"\u003e'macro contents'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBe careful of quotes!!!!\u003c/p\u003e\n\u003cp\u003eHere's a small guide to saving a macro permanently:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eFrom normal mode: qq\u003c/li\u003e\n\u003cli\u003eenter whatever commands\u003c/li\u003e\n\u003cli\u003eFrom normal mode: q\u003c/li\u003e\n\u003cli\u003eopen .vimrc\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\"qp\u003c/strong\u003e to insert the macro into your \u003cstrong\u003elet @q = '...'\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eEditing a macro\u003c/h3\u003e\n\u003cp\u003eImagine that you just wrote a vim macro and stopped recording.\nThen you realize that you forgot to add a ^ to the beginning of it, instead of recording the re-record the macro there are simple ways to edit an existing macro.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eType \u003cstrong\u003e\"ap\u003c/strong\u003e to paste the contents of the register.\u003c/li\u003e\n\u003cli\u003eEnter insert mode and edit the text as required.\u003c/li\u003e\n\u003cli\u003ePress Esc to return to normal mode.\u003c/li\u003e\n\u003cli\u003eType \u003cstrong\u003e\"ayy\u003c/strong\u003e to yank the modified macro into the register.\u003c/li\u003e\n\u003c/ol\u003e\n"},"topicPages":[{"topic":"vim","page":"Introduction"},{"topic":"vim","page":"Basics"},{"topic":"vim","page":"Movement"},{"topic":"vim","page":"Interface"},{"topic":"vim","page":"Reg and Macros"},{"topic":"vim","page":"Customization"},{"topic":"vim","page":"CheatSheet"},{"topic":"vim","page":"Further Reading"}]},"__N_SSG":true},"page":"/content/[topic]/[page]","query":{"topic":"vim","page":"Reg and Macros"},"buildId":"wQ3Wyq8p3MxYgxQ-PDZgG","assetPrefix":"/cs-essentials","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/cs-essentials/_next/static/runtime/polyfills-2f74f7d9820760171318.js"></script><script async="" data-next-page="/_app" src="/cs-essentials/_next/static/wQ3Wyq8p3MxYgxQ-PDZgG/pages/_app.js"></script><script async="" data-next-page="/content/[topic]/[page]" src="/cs-essentials/_next/static/wQ3Wyq8p3MxYgxQ-PDZgG/pages/content/%5Btopic%5D/%5Bpage%5D.js"></script><script src="/cs-essentials/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/cs-essentials/_next/static/chunks/framework.e84fa698c7ee940652bd.js" async=""></script><script src="/cs-essentials/_next/static/chunks/commons.3297d2a2d38dac4ad796.js" async=""></script><script src="/cs-essentials/_next/static/runtime/main-d8f6cc11b1d0cf8a72db.js" async=""></script><script src="/cs-essentials/_next/static/chunks/21dddfa8a67ea3f6fa1e2209bc2cf7f8352768be.d620e2e64ff0ba2721a5.js" async=""></script><script src="/cs-essentials/_next/static/wQ3Wyq8p3MxYgxQ-PDZgG/_buildManifest.js" async=""></script><script src="/cs-essentials/_next/static/wQ3Wyq8p3MxYgxQ-PDZgG/_ssgManifest.js" async=""></script></body></html>