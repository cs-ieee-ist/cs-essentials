<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content=""/><meta property="og:image" content="https://og-image.now.sh/CS%20Essentials%20by%20IEEE-IST%20CS.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.zeit.co%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="CS Essentials by IEEE-IST CS"/><meta name="twitter:card" content="summary_large_image"/><title>Valgrind - Introduction</title><meta name="next-head-count" content="8"/><meta name="description" content="This is a repository that helps students, from any area, learn and practice with CS-related tools. For example, Vim, Gdb and Git. Our goal is to help students being more proficient and efficient using these tools."/><meta property="og:image" content="/images/cs-essentials-thumb.png"/><link rel="preload" href="/cs-essentials/_next/static/css/e817f30db9e2fbc9.css" as="style"/><link rel="stylesheet" href="/cs-essentials/_next/static/css/e817f30db9e2fbc9.css" data-n-g=""/><link rel="preload" href="/cs-essentials/_next/static/css/9dc50108cb7238ef.css" as="style"/><link rel="stylesheet" href="/cs-essentials/_next/static/css/9dc50108cb7238ef.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/cs-essentials/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/cs-essentials/_next/static/chunks/webpack-da1def9bc0e14471.js" defer=""></script><script src="/cs-essentials/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/cs-essentials/_next/static/chunks/main-22ca3ce31bc8f472.js" defer=""></script><script src="/cs-essentials/_next/static/chunks/pages/_app-ae657964cf53a525.js" defer=""></script><script src="/cs-essentials/_next/static/chunks/545-ebf1732b65004e76.js" defer=""></script><script src="/cs-essentials/_next/static/chunks/pages/content/%5Btopic%5D/%5Bpage%5D-446e7cc15de98dac.js" defer=""></script><script src="/cs-essentials/_next/static/SKvH9CpBiAFek2QHYHq-c/_buildManifest.js" defer=""></script><script src="/cs-essentials/_next/static/SKvH9CpBiAFek2QHYHq-c/_ssgManifest.js" defer=""></script><script src="/cs-essentials/_next/static/SKvH9CpBiAFek2QHYHq-c/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="layout_container__fbLkO"><header class="layout_header__kY0Lt"><div class="layout_headerLeft__0b4ue"><a class="layout_headerLogoLink__zvo0e" href="/cs-essentials"><img class="layout_headerLogo___MlhX" src="/cs-essentials/images/logo-cs.png" alt="logo"/></a></div><div class="layout_headerSearch__IC688"><input placeholder="Search"/><a class="layout_headerSearchBtn__qOMwZ" href="/cs-essentials/search?query="><img src="/cs-essentials/icons/search.svg"/></a></div><div class="layout_headerRight__uMd64"><span class="layout_headerIcon__npohY layout_headerSearchIcon__XMKkx"><img src="/cs-essentials/icons/search.svg" alt="search-icon"/></span><a class="layout_headerIcon__npohY" target="_blank" rel="noopener noreferrer" href="https://github.com/cs-ieee-ist/cs-essentials/"><img src="/cs-essentials/icons/logo--github.svg" alt="info-icon"/></a><a class="layout_headerIcon__npohY" href="/cs-essentials/about"><img src="/cs-essentials/icons/information.svg" alt="info-icon"/></a></div></header><div class="layout_mainContent__lKvHP"><div class="layout_backToHome__9sjx_"><a href="/cs-essentials"><img src="/cs-essentials/icons/chevron--left.svg" alt="back-icon"/><span>Back to Home</span></a></div><main><div class="layout_contentContainer__QmgPN"><div class="content_pageContentContainer__ezTWH"><div class=" layout_contentSidebar__4H9xF"><ul class="layout_sidebarList__zIGeA"><li class="layout_sidebarItem__0q7WW layout_active__YGCU_"><a href="/cs-essentials/content/valgrind/Introduction">Introduction</a></li><li class="layout_sidebarItem__0q7WW "><a href="/cs-essentials/content/valgrind/Basic%20Example">Basic Example</a></li><li class="layout_sidebarItem__0q7WW "><a href="/cs-essentials/content/valgrind/Memory%20Leaks">Memory Leaks</a></li></ul></div><div class=" cards_contentCard__cZDDp"><article class="cards_contentArticle__O4OZ4"><div><h1>Valgrind - Introduction</h1>
<p>Valgrind is a framework for building dynamic analysis tools. It comes with a set of tools each of which performs some kind of debugging, profiling or similar task that helps you improve your programs.</p>
<p>A number of tools are supplied as standard; we will go over two of them as they will likely the most important in your CS journey:</p>
<ul>
<li><strong>Memcheck</strong>, a memory error detector. It helps make programs, particularly those written in C and C++, more correct.</li>
<li><strong>Massif</strong>, a heap profiler. It helps profiling the memory usage of programs, thus helping the programmer use less memory.</li>
</ul>
<p>In these Valgrind guides, we will use C for demonstration purposes.</p>
<h3>Explanation</h3>
<p>When using Valgrind, your program is run on a synthetic CPU provided by the Valgrind core. The selected tool will add its own instrumentation code to your program and hand the result back to the core.
Since Valgrind simulates every single instruction a program executes, running it with these tools makes it a lot slower (i.e. 10-50 times slower with Memcheck, which adds code to check every memory access and value computed).</p>
<h3>Installation</h3>
<p>All major Linux distributions include Valgrind in their repositories.
For most Debian-based distributions (such as Debian, Ubuntu, Lubuntu, Xubuntu, Pop OS, Linux Mint, Kali Linux and Deepin), the <code>apt</code> package manager is the easiest way to install Valgrind. Just run the following command in your terminal:</p>
<pre><code class="hljs language-bash">sudo apt-get install valgrind
</code></pre>
<p>For Manjaro (the <code>-S</code> flag also installs dependencies for valgrind):</p>
<pre><code class="hljs language-bash">sudo pacman -S valgrind
</code></pre>
<p>For Mac, the following should work:</p>
<pre><code class="hljs language-bash">brew install valgrind
</code></pre>
<p>If the above command doesn't work for some reason, <a href="https://stackoverflow.com/questions/8102143/how-to-build-and-install-valgrind-on-mac">this post</a> should contain all the information for your particular needs.</p>
<h3>Usage:</h3>
<p>You invoke Valgrind like this:
<code>valgrind [valgrind-arguments] your-program [your-program-arguments]</code></p>
<p>The most important Valgrind option is <code>--tool</code>, which dictates which of the tools to use.
However, Memcheck is the default tool, so if you want to use it you can omit the <code>--tool</code> option.</p></div><a class="layout_editLink__B6YqJ" href="https://github.com/cs-ieee-ist/cs-essentials/tree/master/content/topics/valgrind/0-Introduction.md" target="_blank" rel="noreferrer noopener"><img src="/cs-essentials/icons/edit.svg" alt="edit-icon"/>Edit this page</a></article></div><div class="content_dummySidebar__UTBtD"></div></div></div></main></div><footer class="layout_footer__dka_2"><span class="layout_footerTitle__3S03g">CS Essentials by IEEE-IST CS</span></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"contentData":{"topic":"valgrind","page":"0-Introduction.md","contentHtml":"\u003ch1\u003eValgrind - Introduction\u003c/h1\u003e\n\u003cp\u003eValgrind is a framework for building dynamic analysis tools. It comes with a set of tools each of which performs some kind of debugging, profiling or similar task that helps you improve your programs.\u003c/p\u003e\n\u003cp\u003eA number of tools are supplied as standard; we will go over two of them as they will likely the most important in your CS journey:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eMemcheck\u003c/strong\u003e, a memory error detector. It helps make programs, particularly those written in C and C++, more correct.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMassif\u003c/strong\u003e, a heap profiler. It helps profiling the memory usage of programs, thus helping the programmer use less memory.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIn these Valgrind guides, we will use C for demonstration purposes.\u003c/p\u003e\n\u003ch3\u003eExplanation\u003c/h3\u003e\n\u003cp\u003eWhen using Valgrind, your program is run on a synthetic CPU provided by the Valgrind core. The selected tool will add its own instrumentation code to your program and hand the result back to the core.\nSince Valgrind simulates every single instruction a program executes, running it with these tools makes it a lot slower (i.e. 10-50 times slower with Memcheck, which adds code to check every memory access and value computed).\u003c/p\u003e\n\u003ch3\u003eInstallation\u003c/h3\u003e\n\u003cp\u003eAll major Linux distributions include Valgrind in their repositories.\nFor most Debian-based distributions (such as Debian, Ubuntu, Lubuntu, Xubuntu, Pop OS, Linux Mint, Kali Linux and Deepin), the \u003ccode\u003eapt\u003c/code\u003e package manager is the easiest way to install Valgrind. Just run the following command in your terminal:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003esudo apt-get install valgrind\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor Manjaro (the \u003ccode\u003e-S\u003c/code\u003e flag also installs dependencies for valgrind):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003esudo pacman -S valgrind\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor Mac, the following should work:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ebrew install valgrind\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf the above command doesn't work for some reason, \u003ca href=\"https://stackoverflow.com/questions/8102143/how-to-build-and-install-valgrind-on-mac\"\u003ethis post\u003c/a\u003e should contain all the information for your particular needs.\u003c/p\u003e\n\u003ch3\u003eUsage:\u003c/h3\u003e\n\u003cp\u003eYou invoke Valgrind like this:\n\u003ccode\u003evalgrind [valgrind-arguments] your-program [your-program-arguments]\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eThe most important Valgrind option is \u003ccode\u003e--tool\u003c/code\u003e, which dictates which of the tools to use.\nHowever, Memcheck is the default tool, so if you want to use it you can omit the \u003ccode\u003e--tool\u003c/code\u003e option.\u003c/p\u003e"},"topicPages":[{"topic":"valgrind","page":"Introduction"},{"topic":"valgrind","page":"Basic Example"},{"topic":"valgrind","page":"Memory Leaks"}]},"__N_SSG":true},"page":"/content/[topic]/[page]","query":{"topic":"valgrind","page":"Introduction"},"buildId":"SKvH9CpBiAFek2QHYHq-c","assetPrefix":"/cs-essentials","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>